# Vue3 è‡ªå®šä¹‰å…¨å±€ç»„ä»¶å’Œå…¨å±€æŒ‡ä»¤å’Œå…¨å±€ Loading

æœ¬ç¯‡æ–‡ç« é¡¹ç›®åœ°å€ï¼š[vue-custom-directives-components](https://github.com/webB1an/vue-custom-directives-components)

è‡ªå®šä¹‰å…¨å±€ç»„ä»¶å’Œå…¨å±€æŒ‡ä»¤é¦–å…ˆè¦å…ˆæ­å»ºé¡¹ç›®ï¼Œæœ¬æ¬¡æ­å»ºé¡¹ç›®æ˜¯ç”¨è¿‡ vite æ­å»ºçš„ï¼Œå…·ä½“æ­å»ºè¿‡ç¨‹å¯ä»¥å‚è€ƒ [vite å®˜ç½‘](https://vitejs.dev/guide/#scaffolding-your-first-vite-project)ã€‚

```bash
pnpm create vite my-vue-app --template vue
```

è¿™æ¬¡æ­å»ºé¡¹ç›®æ²¡æœ‰ä½¿ç”¨ tsï¼Œå¦‚æœéœ€è¦çš„è¯å¯ä»¥åœ¨åˆ›å»ºé¡¹ç›®çš„æ—¶å€™é€‰æ‹© ts æ¨¡æ¿ã€‚

```bash
pnpm create vite my-vue-app --template vue
```

é¡¹ç›®ç›®å½•ç»“æ„å¦‚ä¸‹

:::details é¡¹ç›®ç›®å½•ç»“æ„
```
ğŸ“¦vue-directs-components
 â”£ ğŸ“‚.vscode
 â”ƒ â”£ ğŸ“œextensions.json
 â”ƒ â”— ğŸ“œsettings.json
 â”£ ğŸ“‚public
 â”ƒ â”— ğŸ“œvite.svg
 â”£ ğŸ“‚src
 â”ƒ â”£ ğŸ“‚assets
 â”ƒ â”ƒ â”— ğŸ“œvue.svg
 â”ƒ â”£ ğŸ“‚components
 â”ƒ â”ƒ â”£ ğŸ“‚Loading
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œindex.js
 â”ƒ â”ƒ â”ƒ â”— ğŸ“œindex.vue
 â”ƒ â”ƒ â”— ğŸ“œindex.js
 â”ƒ â”£ ğŸ“‚directives
 â”ƒ â”ƒ â”£ ğŸ“‚color
 â”ƒ â”ƒ â”ƒ â”— ğŸ“œindex.js
 â”ƒ â”ƒ â”£ ğŸ“‚font
 â”ƒ â”ƒ â”ƒ â”— ğŸ“œindex.js
 â”ƒ â”ƒ â”— ğŸ“œindex.js
 â”ƒ â”£ ğŸ“œApp.vue
 â”ƒ â”£ ğŸ“œmain.js
 â”ƒ â”— ğŸ“œstyle.css
 â”£ ğŸ“œ.gitignore
 â”£ ğŸ“œREADME.md
 â”£ ğŸ“œeslint.config.js
 â”£ ğŸ“œindex.html
 â”£ ğŸ“œpackage.json
 â”£ ğŸ“œpnpm-lock.yaml
 â”— ğŸ“œvite.config.js
 ```
:::

## å¼€å§‹ä¹‹å‰è¯´æ˜

è¦åšå…¨å±€çš„è‡ªå®šä¹‰æŒ‡ä»¤å’Œç»„ä»¶æœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼šVue ä¸­æœ‰æ²¡æœ‰ä¸€ç§æ–¹æ³•èƒ½å¤Ÿä¸º Vue æ·»åŠ å…¨å±€çš„è‡ªå®šä¹‰æŒ‡ä»¤å’Œç»„ä»¶å‘¢ï¼Ÿæˆ–è€…è¯´æœ‰æ²¡æœ‰ä¸€ç§æ–¹å¼èƒ½å¤Ÿä¸º Vue æ·»åŠ å…¨å±€åŠŸèƒ½çš„å·¥å…·ä»£ç ã€‚

ç¿»çœ‹ Vue çš„å®˜æ–¹æ–‡æ¡£ï¼Œå‘ç° Vue çš„ Plugins åŠŸèƒ½èƒ½å¤Ÿå®ç°è¿™ä¸ªéœ€æ±‚ã€‚

æ’ä»¶ (Plugins) æ˜¯ä¸€ç§èƒ½ä¸º Vue æ·»åŠ å…¨å±€åŠŸèƒ½çš„å·¥å…·ä»£ç ã€‚ä½¿ç”¨æ’ä»¶çš„æ–¹å¼å¦‚ä¸‹ï¼š

```js
import { createApp } from 'vue'

const app = createApp({})

app.use(myPlugin, {
  /* å¯é€‰çš„é€‰é¡¹ */
})
```

æ’ä»¶å¯ä»¥æ˜¯ä¸€ä¸ªå¸¦æœ‰ `install()` æ–¹æ³•çš„å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚å¦‚æœæ˜¯å¯¹è±¡ï¼Œé‚£ä¹ˆå®ƒå¿…é¡»æä¾›ä¸€ä¸ª install æ–¹æ³•ã€‚å¦‚æœæ˜¯å‡½æ•°ï¼Œé‚£ä¹ˆå®ƒä¼šè¢«ä½œä¸º install æ–¹æ³•ã€‚install æ–¹æ³•è°ƒç”¨æ—¶ï¼Œä¼šå°† app ä½œä¸ºå‚æ•°ä¼ å…¥ã€‚

```js
const myPlugin = {
  install(app, options) {
    // é…ç½®æ­¤åº”ç”¨
  }
}

// æˆ–è€…
function myPlugin(app, options) {
  // é…ç½®æ­¤åº”ç”¨
}
```

è€Œä¸”æ’ä»¶æ˜¯æ²¡æœ‰æ˜ç¡®çš„ä½¿ç”¨èŒƒå›´çš„ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬æ—¢å¯ä»¥ä½¿ç”¨æ’ä»¶æ¥æ·»åŠ å…¨å±€çš„è‡ªå®šä¹‰æŒ‡ä»¤å’Œç»„ä»¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ’ä»¶æ¥æ·»åŠ å…¨å±€çš„å·¥å…·å‡½æ•°ã€‚å®˜æ–¹ä¹Ÿç»™å‡ºäº†ä¸€äº›ä½¿ç”¨åœºæ™¯ï¼š

- é€šè¿‡ [app.component()](https://cn.vuejs.org/api/application.html#app-component) å’Œ [app.directive()](https://cn.vuejs.org/api/application.html#app-directive) æ³¨å†Œä¸€åˆ°å¤šä¸ªå…¨å±€ç»„ä»¶æˆ–è‡ªå®šä¹‰æŒ‡ä»¤ã€‚
- é€šè¿‡ [app.provide()](https://cn.vuejs.org/api/application.html#app-provide) ä½¿ä¸€ä¸ªèµ„æºå¯è¢«æ³¨å…¥è¿›æ•´ä¸ªåº”ç”¨ã€‚
- å‘ [app.config.globalProperties](https://cn.vuejs.org/api/application.html#app-config-globalproperties) ä¸­æ·»åŠ ä¸€äº›å…¨å±€å®ä¾‹å±æ€§æˆ–æ–¹æ³•
- ä¸€ä¸ªå¯èƒ½ä¸Šè¿°ä¸‰ç§éƒ½åŒ…å«äº†çš„åŠŸèƒ½åº“ (ä¾‹å¦‚ vue-router)ã€‚

åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­å°±ä¼šç”¨åˆ° `app.component()` å’Œ `app.directive()` æ–¹æ³•æ¥æ³¨å†Œå…¨å±€ç»„ä»¶å’Œè‡ªå®šä¹‰æŒ‡ä»¤ã€‚

## ä¸ºä»€ä¹ˆä¸ç”¨ Vue.extend

ä¸ºä»€ä¹ˆåœ¨åˆ›å»º Loading æ’ä»¶çš„æ—¶å€™ä¸åƒ [Vue2 è‡ªå®šä¹‰æ’ä»¶](/blog/front-end/vue.html#è‡ªå®šä¹‰æ’ä»¶ç¤ºä¾‹) ä½¿ç”¨ `Vue.extend`ï¼Œ è€Œæ˜¯ä½¿ç”¨äº† `createApp`ï¼Ÿ

åœ¨ Vue3 çš„[è¿ç§»æŒ‡å—](https://v3-migration.vuejs.org/zh/breaking-changes/global-api#vue-extend-%E7%A7%BB%E9%99%A4)ä¸­æœ‰è¯´é“ï¼š

> åœ¨ Vue 2.x ä¸­ï¼Œ`Vue.extend` æ›¾ç»è¢«ç”¨äºåˆ›å»ºä¸€ä¸ªåŸºäº Vue æ„é€ å‡½æ•°çš„â€œå­ç±»â€ï¼Œå…¶å‚æ•°åº”ä¸ºä¸€ä¸ªåŒ…å«ç»„ä»¶é€‰é¡¹çš„å¯¹è±¡ã€‚åœ¨ Vue 3.x ä¸­ï¼Œæˆ‘ä»¬å·²ç»æ²¡æœ‰ç»„ä»¶æ„é€ å™¨çš„æ¦‚å¿µäº†ã€‚åº”è¯¥å§‹ç»ˆä½¿ç”¨ `createApp` è¿™ä¸ªå…¨å±€ API æ¥æŒ‚è½½ç»„ä»¶

æœ¬æ–‡ç”¨çš„æ˜¯ `createApp` åˆ›å»ºçš„ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ï¼š`createVNode` å’Œ `render` å‡½æ•°æ¥åˆ›å»ºã€‚

## è‡ªå®šä¹‰å…¨å±€æŒ‡ä»¤

åœ¨é¡¹ç›®çš„ `src` ç›®å½•ä¸‹åˆ›å»º `directives` æ–‡ä»¶å¤¹ï¼Œç„¶ååœ¨ `directives` æ–‡ä»¶å¤¹ä¸‹åˆ›å»º `color` å’Œ `font` æ–‡ä»¶å¤¹ï¼Œæœ€ååœ¨ `color` å’Œ `font` æ–‡ä»¶å¤¹ä¸‹åˆ›å»º `index.js` æ–‡ä»¶ã€‚

### `directives/color/index.js` æ–‡ä»¶å†…å®¹

```js
export default {
  created(el, binding) {
    el.style.color = binding.value
  }
}
```

### `directives/font/index.js` æ–‡ä»¶å†…å®¹

```js
export default {
  created(el, binding) {
    el.style.fontFamily = binding.value
  }
}
```

ä»¥ä¸Šçš„ä¸¤ä¸ªæŒ‡ä»¤éƒ½éå¸¸ç®€å•ï¼Œåªæ˜¯ä½œä¸ºä¾‹å­ç¤ºèŒƒï¼Œå®é™…å¼€å‘ä¸­å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚æ¥ç¼–å†™ã€‚

### `directives/index.js` æ–‡ä»¶å†…å®¹å¦‚ä¸‹

```js
import color from './color'
import font from './font'

const directives = {
  color,
  font
}

export default {
  install(app) {
    Object.keys(directives).forEach((key) => {
      app.directive(key, directives[key])
    })
  }
}
```

è¿™é‡Œçš„ `directives` å¯¹è±¡æ˜¯ç”¨æ¥å­˜æ”¾æ‰€æœ‰çš„æŒ‡ä»¤çš„ï¼Œç„¶åé€šè¿‡ `Object.keys` éå† `directives` å¯¹è±¡ï¼Œç„¶åé€šè¿‡ `app.directive` æ³¨å†ŒæŒ‡ä»¤ï¼Œè¿™æ ·å­å°±å¯ä»¥æ³¨å†Œå…¨éƒ¨çš„æŒ‡ä»¤äº†ã€‚

å…¶å®ä¸Šé¢çš„è¿™ç§æŠŠä¸€ä¸ªä¸ªæŒ‡ä»¤å…¨éƒ¨æ‰‹åŠ¨å¼•å…¥åˆ° `directives/index.js` æ–‡ä»¶ä¸­çš„æ–¹å¼å¹¶ä¸æ˜¯å¾ˆå¥½ï¼Œå› ä¸ºå¦‚æœæŒ‡ä»¤å¾ˆå¤šçš„è¯ï¼Œé‚£ä¹ˆå°±ä¼šæ˜¾å¾—å¾ˆè‡ƒè‚¿ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡ `import.meta.glob` æ¥å®ç°è‡ªåŠ¨å¼•å…¥æŒ‡ä»¤ã€‚å¤§æ¦‚æ–¹å¼å¦‚ä¸‹ï¼š

```ts
import type { App } from 'vue'

interface Directive {
  name: string
  directive: Record<string, () => {}>
}

const directives = import.meta.glob<Record<string, Directive>>('./**/*.ts', { eager: true })

export function setDirectives(app: App) {
  Object.keys(directives).forEach((key) => {
    app.directive(directives[key].default.name, directives[key].default.directive)
  })
}
```

## è‡ªå®šä¹‰å…¨å±€ç»„ä»¶

åœ¨é¡¹ç›®çš„ `src` ç›®å½•ä¸‹åˆ›å»º `components` æ–‡ä»¶å¤¹ï¼Œç„¶ååœ¨ `components` æ–‡ä»¶å¤¹ä¸‹åˆ›å»º `Loading` æ–‡ä»¶å¤¹ï¼Œæœ€ååœ¨ `Loading` æ–‡ä»¶å¤¹ä¸‹åˆ›å»º `index.vue` å’Œ `index.js` æ–‡ä»¶ã€‚

### `components/Loading/index.vue` æ–‡ä»¶å†…å®¹

```vue
<script setup>
defineProps({
  title: {
    type: String,
    default: 'loading...'
  },
  loading: {
    type: Boolean,
    default: true
  }
});
</script>

<template>
  <div v-if="loading" class="loading-container">
    <div class="loading-rotate" />
    {{ title }}
  </div>
</template>

<style scoped>
.loading-container {
  position: fixed;
  top: 0;
  left: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  width: 100%;
  height: 100%;
  background: #fff;
  font-size: 20px;
  font-family: monospace;
  color: #f00;
  z-index: 999;

}
.loading-rotate {
  width: 40px;
  height: 40px;
  margin-bottom: 10px;
  border: 5px solid #ccc;
  border-top-color: #f00;
  border-radius: 50%;
  animation: loading 1s linear infinite;
}
@keyframes loading {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
</style>
```

### `components/Loading/index.js` æ–‡ä»¶å†…å®¹

```js
import { createApp } from 'vue';
import Loading from './index.vue';

let instance;

const loading = function (options) {
  if (!instance) {
    const app = createApp(Loading, {
      ...options
    });

    instance = app.mount(document.createElement('div'));

    document.body.appendChild(instance.$el);
  }

  instance.close = function () {
    document.body.removeChild(instance.$el);
    instance = null;
  };

  return instance;
};

export default loading;
```

`components/Loading/index.js` æ˜¯ç”¨æ¥åˆ›å»ºå…¨å±€ loading æŒ‡ä»¤çš„ï¼Œåç»­å¯ä»¥é€šè¿‡ $loading æ¥è°ƒç”¨ï¼Œè€Œä¸æ˜¯è¦åœ¨æ¯ä¸ªç»„ä»¶ä¸­éƒ½å¼•å…¥ Loading ç»„ä»¶ã€‚

### `components/index.js` æ–‡ä»¶å†…å®¹

```js
import loading from './Loading';
import Loading from './Loading/index.vue';

const components = {
  Loading
};

const fns = {
  loading
};

export default {
  install(app) {
    Object.keys(fns).forEach((key) => {
      app.provide(key, fns[key]);
      // app.config.globalProperties[`$${key}`] = fns[key];
    });
    Object.keys(components).forEach((key) => {
      app.component(key, components[key]);
    });
  }
};

```

`components/index.js` æ–‡ä»¶æ˜¯ç”¨æ¥æ³¨å†Œå…¨å±€ç»„ä»¶çš„ï¼Œè¿™é‡Œæ³¨å†Œäº† `Loading` ç»„ä»¶ï¼Œç„¶åé€šè¿‡ `app.component` æ³¨å†Œç»„ä»¶ï¼Œè¿™æ ·å­å°±å¯ä»¥æ³¨å†Œå…¨éƒ¨çš„ç»„ä»¶äº†ã€‚

é€šè¿‡ `app.provide` æ–¹æ³•æŠŠ `loading` æ–¹æ³•æ³¨å…¥åˆ°å…¨å±€ï¼Œå¦‚æ­¤å°±å¯ä»¥åœ¨æ•´ä¸ªåº”ç”¨å±‚é¢æä¾›ä¾èµ–ï¼Œè¿™æ ·å­å°±å¯ä»¥é€šè¿‡ `inject` æ–¹æ³•æ¥æ³¨å…¥ `loading` æ–¹æ³•ï¼Œä»è€Œå®ç°å…¨å±€æœåŠ¡å¼è°ƒç”¨ç»„ä»¶çš„æ•ˆæœã€‚

ä½ å¯èƒ½æ³¨æ„åˆ°äº† `components/index.js` æ–‡ä»¶ä¸­èˆå¼ƒäº†çš„ `app.config.globalProperties` æ–¹æ³•æŒ‚è½½å…¨å±€æœåŠ¡å¼è°ƒç”¨ç»„ä»¶çš„æ–¹æ³•ï¼Œè¿™æ˜¯å› ä¸ºåœ¨å®˜æ–¹çš„é¡¹ç›® [issue](https://github.com/vuejs/vue/issues/12596#issuecomment-1173269807) ä¸­å°¤å¤§å¤§è¯´äº†ï¼š

> getCurrentInstance is used mostly for official vue libraries that need additional internal access, not for userland application code. It was mistakenly documented in WIP v3 docs but is no longer considered a public API

ç®€å•çš„è¯´å°±æ˜¯ `getCurrentInstance` æ–¹æ³•æ˜¯ç”¨æ¥ç»™å®˜æ–¹çš„åº“ä½¿ç”¨çš„ï¼Œè€Œä¸æ˜¯ç”¨æ¥ç»™ç”¨æˆ·ä½¿ç”¨çš„ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œå°±ä¸ä½¿ç”¨äº†ã€‚

## æ³¨å†Œå…¨å±€ç»„ä»¶å’ŒæŒ‡ä»¤

åœ¨ `main.js` æ–‡ä»¶ä¸­æ³¨å†Œå…¨å±€ç»„ä»¶å’ŒæŒ‡ä»¤ã€‚

```js
import { createApp } from 'vue'
import './style.css'
import App from './App.vue'

import components from './components'
import directives from './directives'

const app = createApp(App)

app.use(components)
app.use(directives)

app.mount('#app')
```

## ä½¿ç”¨å…¨å±€ç»„ä»¶å’ŒæŒ‡ä»¤

åœ¨ `App.vue` æ–‡ä»¶ä¸­ä½¿ç”¨å…¨å±€ç»„ä»¶å’ŒæŒ‡ä»¤ã€‚

```vue
<script setup>
import { inject } from 'vue';

const $loading = inject('loading');

const loading1 = $loading({
  title: 'loading...'
});

setTimeout(() => {
  loading1.close();
}, 4000);

let loading2;

setTimeout(() => {
  loading2 = $loading({
    title: 'åŠ è½½ä¸­...'
  });
}, 6000);

setTimeout(() => {
  loading2.close();
}, 10000);
</script>

<template>
  <div class="app-container">
    <p v-color="`red`" v-font="`monospace`">
      vue-directives-components
    </p>
    <div>å…¨å±€è‡ªå®šä¹‰æŒ‡ä»¤</div>
    <div>å…¨å±€è‡ªå®šä¹‰ç»„ä»¶</div>
  </div>
</template>

<style scoped>
.app-container {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 100vh;
  color: #474747;
}
</style>
```

ç”±äºæˆ‘ä»¬èˆå¼ƒ `app.config.globalProperties` æ–¹æ³•æŒ‚è½½å…¨å±€æœåŠ¡å¼è°ƒç”¨ç»„ä»¶çš„æ–¹æ³•ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨ `getCurrentInstance` æ–¹æ³•æ¥è·å– `loading` æ–¹æ³•ï¼Œè€Œæ˜¯é€šè¿‡[ä¾èµ–æ³¨å…¥](https://cn.vuejs.org/guide/components/provide-inject.html#app-level-provide)çš„æ–¹å¼ï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨çš„æ—¶å€™éœ€è¦é€šè¿‡ `inject` æ–¹æ³•æ¥æ³¨å…¥ loading å…¨å±€æœåŠ¡å¼è°ƒç”¨ç»„ä»¶ã€‚

## æ€»ç»“

é€šè¿‡ä¸Šé¢çš„ä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œè‡ªå®šä¹‰å…¨å±€ç»„ä»¶å’ŒæŒ‡ä»¤çš„æ–¹å¼å…¶å®å°±æ˜¯é€šè¿‡ `app.component` å’Œ `app.directive` æ–¹æ³•æ¥æ³¨å†Œå…¨å±€ç»„ä»¶å’ŒæŒ‡ä»¤ï¼Œç„¶åé€šè¿‡ `app.provide` æ–¹æ³•æŠŠç»„ä»¶æ³¨å…¥åˆ°å…¨å±€ï¼Œä»è€Œå®ç°å…¨å±€æœåŠ¡å¼è°ƒç”¨ç»„ä»¶çš„æ•ˆæœã€‚

æœ€ç»ˆé€šè¿‡æ’ä»¶ï¼ˆPluginsï¼‰ä¸º Vue æ·»åŠ å…¨å±€åŠŸèƒ½çš„å·¥å…·ä»£ç ï¼Œä»è€Œå®ç°è‡ªå®šä¹‰å…¨å±€ç»„ä»¶å’ŒæŒ‡ä»¤çš„æ•ˆæœã€‚

å¯ä»¥çœ‹åˆ° Vue çš„æ’ä»¶åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œå¯ä»¥å®ç°å¾ˆå¤šåŠŸèƒ½ï¼Œæ¯”å¦‚ï¼šæ·»åŠ å…¨å±€çš„å·¥å…·å‡½æ•°ï¼Œæ·»åŠ å…¨å±€çš„è‡ªå®šä¹‰æŒ‡ä»¤ï¼Œæ·»åŠ å…¨å±€çš„è‡ªå®šä¹‰ç»„ä»¶ï¼Œæ·»åŠ å…¨å±€çš„å·¥å…·å‡½æ•°ç­‰ç­‰ã€‚è¿™æ–¹é¢çš„åŠŸèƒ½éå¸¸ä½¿ç”¨ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚æ¥å®ç°åŠŸèƒ½ï¼Œè€Œä¸”æ’ä»¶æ˜¯æ²¡æœ‰æ˜ç¡®çš„ä½¿ç”¨èŒƒå›´çš„ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬æ—¢å¯ä»¥ä½¿ç”¨æ’ä»¶æ¥æ·»åŠ å…¨å±€çš„è‡ªå®šä¹‰æŒ‡ä»¤å’Œç»„ä»¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ’ä»¶æ¥æ·»åŠ å…¨å±€çš„å·¥å…·å‡½æ•°ã€‚


## å‚è€ƒ

- [Vue æ’ä»¶ä»‹ç»](https://cn.vuejs.org/guide/reusability/plugins.html)
- [Vue ç»„ä»¶æ³¨å†Œ](https://cn.vuejs.org/guide/components/registration.html)
- [Vue è‡ªå®šä¹‰æŒ‡ä»¤](https://cn.vuejs.org/api/application.html#app-directive)
- [Vue ä¾èµ–æ³¨å…¥](https://cn.vuejs.org/guide/components/provide-inject.html#app-level-provide)
