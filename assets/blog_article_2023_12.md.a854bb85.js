import{_ as s,o as n,c as a,d as l}from"./app.27deab11.js";const A=JSON.parse('{"title":"Vue3 \u81EA\u5B9A\u4E49\u5168\u5C40\u7EC4\u4EF6\u548C\u5168\u5C40\u6307\u4EE4\u548C\u5168\u5C40 Loading","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u5F00\u59CB\u4E4B\u524D\u8BF4\u660E","slug":"\u5F00\u59CB\u4E4B\u524D\u8BF4\u660E","link":"#\u5F00\u59CB\u4E4B\u524D\u8BF4\u660E","children":[]},{"level":2,"title":"\u81EA\u5B9A\u4E49\u5168\u5C40\u6307\u4EE4","slug":"\u81EA\u5B9A\u4E49\u5168\u5C40\u6307\u4EE4","link":"#\u81EA\u5B9A\u4E49\u5168\u5C40\u6307\u4EE4","children":[{"level":3,"title":"directives/color/index.js \u6587\u4EF6\u5185\u5BB9","slug":"directives-color-index-js-\u6587\u4EF6\u5185\u5BB9","link":"#directives-color-index-js-\u6587\u4EF6\u5185\u5BB9","children":[]},{"level":3,"title":"directives/font/index.js \u6587\u4EF6\u5185\u5BB9","slug":"directives-font-index-js-\u6587\u4EF6\u5185\u5BB9","link":"#directives-font-index-js-\u6587\u4EF6\u5185\u5BB9","children":[]},{"level":3,"title":"directives/index.js \u6587\u4EF6\u5185\u5BB9\u5982\u4E0B","slug":"directives-index-js-\u6587\u4EF6\u5185\u5BB9\u5982\u4E0B","link":"#directives-index-js-\u6587\u4EF6\u5185\u5BB9\u5982\u4E0B","children":[]}]},{"level":2,"title":"\u81EA\u5B9A\u4E49\u5168\u5C40\u7EC4\u4EF6","slug":"\u81EA\u5B9A\u4E49\u5168\u5C40\u7EC4\u4EF6","link":"#\u81EA\u5B9A\u4E49\u5168\u5C40\u7EC4\u4EF6","children":[{"level":3,"title":"components/Loading/index.vue \u6587\u4EF6\u5185\u5BB9","slug":"components-loading-index-vue-\u6587\u4EF6\u5185\u5BB9","link":"#components-loading-index-vue-\u6587\u4EF6\u5185\u5BB9","children":[]},{"level":3,"title":"components/Loading/index.js \u6587\u4EF6\u5185\u5BB9","slug":"components-loading-index-js-\u6587\u4EF6\u5185\u5BB9","link":"#components-loading-index-js-\u6587\u4EF6\u5185\u5BB9","children":[]},{"level":3,"title":"components/index.js \u6587\u4EF6\u5185\u5BB9","slug":"components-index-js-\u6587\u4EF6\u5185\u5BB9","link":"#components-index-js-\u6587\u4EF6\u5185\u5BB9","children":[]}]},{"level":2,"title":"\u6CE8\u518C\u5168\u5C40\u7EC4\u4EF6\u548C\u6307\u4EE4","slug":"\u6CE8\u518C\u5168\u5C40\u7EC4\u4EF6\u548C\u6307\u4EE4","link":"#\u6CE8\u518C\u5168\u5C40\u7EC4\u4EF6\u548C\u6307\u4EE4","children":[]},{"level":2,"title":"\u4F7F\u7528\u5168\u5C40\u7EC4\u4EF6\u548C\u6307\u4EE4","slug":"\u4F7F\u7528\u5168\u5C40\u7EC4\u4EF6\u548C\u6307\u4EE4","link":"#\u4F7F\u7528\u5168\u5C40\u7EC4\u4EF6\u548C\u6307\u4EE4","children":[]},{"level":2,"title":"\u603B\u7ED3","slug":"\u603B\u7ED3","link":"#\u603B\u7ED3","children":[]},{"level":2,"title":"\u53C2\u8003","slug":"\u53C2\u8003","link":"#\u53C2\u8003","children":[]}],"relativePath":"blog/article/2023/12.md","lastUpdated":1701222973000}'),p={name:"blog/article/2023/12.md"},o=l(`<h1 id="vue3-\u81EA\u5B9A\u4E49\u5168\u5C40\u7EC4\u4EF6\u548C\u5168\u5C40\u6307\u4EE4\u548C\u5168\u5C40-loading" tabindex="-1">Vue3 \u81EA\u5B9A\u4E49\u5168\u5C40\u7EC4\u4EF6\u548C\u5168\u5C40\u6307\u4EE4\u548C\u5168\u5C40 Loading <a class="header-anchor" href="#vue3-\u81EA\u5B9A\u4E49\u5168\u5C40\u7EC4\u4EF6\u548C\u5168\u5C40\u6307\u4EE4\u548C\u5168\u5C40-loading" aria-hidden="true">#</a></h1><p>\u81EA\u5B9A\u4E49\u5168\u5C40\u7EC4\u4EF6\u548C\u5168\u5C40\u6307\u4EE4\u9996\u5148\u8981\u5148\u642D\u5EFA\u9879\u76EE\uFF0C\u672C\u6B21\u642D\u5EFA\u9879\u76EE\u662F\u7528\u8FC7 vite \u642D\u5EFA\u7684\uFF0C\u5177\u4F53\u642D\u5EFA\u8FC7\u7A0B\u53EF\u4EE5\u53C2\u8003 <a href="https://vitejs.dev/guide/#scaffolding-your-first-vite-project" target="_blank" rel="noreferrer">vite \u5B98\u7F51</a>\u3002</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">pnpm create vite my-vue-app --template vue</span></span>
<span class="line"></span></code></pre></div><p>\u8FD9\u6B21\u642D\u5EFA\u9879\u76EE\u6CA1\u6709\u4F7F\u7528 ts\uFF0C\u5982\u679C\u9700\u8981\u7684\u8BDD\u53EF\u4EE5\u5728\u521B\u5EFA\u9879\u76EE\u7684\u65F6\u5019\u9009\u62E9 ts \u6A21\u677F\u3002</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">pnpm create vite my-vue-app --template vue</span></span>
<span class="line"></span></code></pre></div><p>\u9879\u76EE\u76EE\u5F55\u7ED3\u6784\u5982\u4E0B</p><details class="details custom-block"><summary>\u9879\u76EE\u76EE\u5F55\u7ED3\u6784</summary><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">\u{1F4E6}vue-directs-components</span></span>
<span class="line"><span style="color:#A6ACCD;"> \u2523 \u{1F4C2}.vscode</span></span>
<span class="line"><span style="color:#A6ACCD;"> \u2503 \u2523 \u{1F4DC}extensions.json</span></span>
<span class="line"><span style="color:#A6ACCD;"> \u2503 \u2517 \u{1F4DC}settings.json</span></span>
<span class="line"><span style="color:#A6ACCD;"> \u2523 \u{1F4C2}public</span></span>
<span class="line"><span style="color:#A6ACCD;"> \u2503 \u2517 \u{1F4DC}vite.svg</span></span>
<span class="line"><span style="color:#A6ACCD;"> \u2523 \u{1F4C2}src</span></span>
<span class="line"><span style="color:#A6ACCD;"> \u2503 \u2523 \u{1F4C2}assets</span></span>
<span class="line"><span style="color:#A6ACCD;"> \u2503 \u2503 \u2517 \u{1F4DC}vue.svg</span></span>
<span class="line"><span style="color:#A6ACCD;"> \u2503 \u2523 \u{1F4C2}components</span></span>
<span class="line"><span style="color:#A6ACCD;"> \u2503 \u2503 \u2523 \u{1F4C2}Loading</span></span>
<span class="line"><span style="color:#A6ACCD;"> \u2503 \u2503 \u2503 \u2523 \u{1F4DC}index.js</span></span>
<span class="line"><span style="color:#A6ACCD;"> \u2503 \u2503 \u2503 \u2517 \u{1F4DC}index.vue</span></span>
<span class="line"><span style="color:#A6ACCD;"> \u2503 \u2503 \u2517 \u{1F4DC}index.js</span></span>
<span class="line"><span style="color:#A6ACCD;"> \u2503 \u2523 \u{1F4C2}directives</span></span>
<span class="line"><span style="color:#A6ACCD;"> \u2503 \u2503 \u2523 \u{1F4C2}color</span></span>
<span class="line"><span style="color:#A6ACCD;"> \u2503 \u2503 \u2503 \u2517 \u{1F4DC}index.js</span></span>
<span class="line"><span style="color:#A6ACCD;"> \u2503 \u2503 \u2523 \u{1F4C2}font</span></span>
<span class="line"><span style="color:#A6ACCD;"> \u2503 \u2503 \u2503 \u2517 \u{1F4DC}index.js</span></span>
<span class="line"><span style="color:#A6ACCD;"> \u2503 \u2503 \u2517 \u{1F4DC}index.js</span></span>
<span class="line"><span style="color:#A6ACCD;"> \u2503 \u2523 \u{1F4DC}App.vue</span></span>
<span class="line"><span style="color:#A6ACCD;"> \u2503 \u2523 \u{1F4DC}main.js</span></span>
<span class="line"><span style="color:#A6ACCD;"> \u2503 \u2517 \u{1F4DC}style.css</span></span>
<span class="line"><span style="color:#A6ACCD;"> \u2523 \u{1F4DC}.gitignore</span></span>
<span class="line"><span style="color:#A6ACCD;"> \u2523 \u{1F4DC}README.md</span></span>
<span class="line"><span style="color:#A6ACCD;"> \u2523 \u{1F4DC}eslint.config.js</span></span>
<span class="line"><span style="color:#A6ACCD;"> \u2523 \u{1F4DC}index.html</span></span>
<span class="line"><span style="color:#A6ACCD;"> \u2523 \u{1F4DC}package.json</span></span>
<span class="line"><span style="color:#A6ACCD;"> \u2523 \u{1F4DC}pnpm-lock.yaml</span></span>
<span class="line"><span style="color:#A6ACCD;"> \u2517 \u{1F4DC}vite.config.js</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div></details><h2 id="\u5F00\u59CB\u4E4B\u524D\u8BF4\u660E" tabindex="-1">\u5F00\u59CB\u4E4B\u524D\u8BF4\u660E <a class="header-anchor" href="#\u5F00\u59CB\u4E4B\u524D\u8BF4\u660E" aria-hidden="true">#</a></h2><p>\u8981\u505A\u5168\u5C40\u7684\u81EA\u5B9A\u4E49\u6307\u4EE4\u548C\u7EC4\u4EF6\u6709\u4E00\u4E2A\u95EE\u9898\u5C31\u662F\uFF1AVue \u4E2D\u6709\u6CA1\u6709\u4E00\u79CD\u65B9\u6CD5\u80FD\u591F\u4E3A Vue \u6DFB\u52A0\u5168\u5C40\u7684\u81EA\u5B9A\u4E49\u6307\u4EE4\u548C\u7EC4\u4EF6\u5462\uFF1F\u6216\u8005\u8BF4\u6709\u6CA1\u6709\u4E00\u79CD\u65B9\u5F0F\u80FD\u591F\u4E3A Vue \u6DFB\u52A0\u5168\u5C40\u529F\u80FD\u7684\u5DE5\u5177\u4EE3\u7801\u3002</p><p>\u7FFB\u770B Vue \u7684\u5B98\u65B9\u6587\u6863\uFF0C\u53D1\u73B0 Vue \u7684 Plugins \u529F\u80FD\u80FD\u591F\u5B9E\u73B0\u8FD9\u4E2A\u9700\u6C42\u3002</p><p>\u63D2\u4EF6 (Plugins) \u662F\u4E00\u79CD\u80FD\u4E3A Vue \u6DFB\u52A0\u5168\u5C40\u529F\u80FD\u7684\u5DE5\u5177\u4EE3\u7801\u3002\u4F7F\u7528\u63D2\u4EF6\u7684\u65B9\u5F0F\u5982\u4E0B\uFF1A</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">createApp</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vue</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> app </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createApp</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">app</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">use</span><span style="color:#A6ACCD;">(myPlugin</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;">/* \u53EF\u9009\u7684\u9009\u9879 */</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>\u63D2\u4EF6\u53EF\u4EE5\u662F\u4E00\u4E2A\u5E26\u6709 <code>install()</code> \u65B9\u6CD5\u7684\u5BF9\u8C61\uFF0C\u4E5F\u53EF\u4EE5\u662F\u4E00\u4E2A\u51FD\u6570\u3002\u5982\u679C\u662F\u5BF9\u8C61\uFF0C\u90A3\u4E48\u5B83\u5FC5\u987B\u63D0\u4F9B\u4E00\u4E2A install \u65B9\u6CD5\u3002\u5982\u679C\u662F\u51FD\u6570\uFF0C\u90A3\u4E48\u5B83\u4F1A\u88AB\u4F5C\u4E3A install \u65B9\u6CD5\u3002install \u65B9\u6CD5\u8C03\u7528\u65F6\uFF0C\u4F1A\u5C06 app \u4F5C\u4E3A\u53C2\u6570\u4F20\u5165\u3002</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> myPlugin </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">install</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">app</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">options</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;">// \u914D\u7F6E\u6B64\u5E94\u7528</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">// \u6216\u8005</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">myPlugin</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">app</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">options</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">// \u914D\u7F6E\u6B64\u5E94\u7528</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>\u800C\u4E14\u63D2\u4EF6\u662F\u6CA1\u6709\u660E\u786E\u7684\u4F7F\u7528\u8303\u56F4\u7684\uFF0C\u4E5F\u5C31\u662F\u8BF4\u6211\u4EEC\u65E2\u53EF\u4EE5\u4F7F\u7528\u63D2\u4EF6\u6765\u6DFB\u52A0\u5168\u5C40\u7684\u81EA\u5B9A\u4E49\u6307\u4EE4\u548C\u7EC4\u4EF6\uFF0C\u4E5F\u53EF\u4EE5\u4F7F\u7528\u63D2\u4EF6\u6765\u6DFB\u52A0\u5168\u5C40\u7684\u5DE5\u5177\u51FD\u6570\u3002\u5B98\u65B9\u4E5F\u7ED9\u51FA\u4E86\u4E00\u4E9B\u4F7F\u7528\u573A\u666F\uFF1A</p><ul><li>\u901A\u8FC7 <a href="https://cn.vuejs.org/api/application.html#app-component" target="_blank" rel="noreferrer">app.component()</a> \u548C <a href="https://cn.vuejs.org/api/application.html#app-directive" target="_blank" rel="noreferrer">app.directive()</a> \u6CE8\u518C\u4E00\u5230\u591A\u4E2A\u5168\u5C40\u7EC4\u4EF6\u6216\u81EA\u5B9A\u4E49\u6307\u4EE4\u3002</li><li>\u901A\u8FC7 <a href="https://cn.vuejs.org/api/application.html#app-provide" target="_blank" rel="noreferrer">app.provide()</a> \u4F7F\u4E00\u4E2A\u8D44\u6E90\u53EF\u88AB\u6CE8\u5165\u8FDB\u6574\u4E2A\u5E94\u7528\u3002</li><li>\u5411 <a href="https://cn.vuejs.org/api/application.html#app-config-globalproperties" target="_blank" rel="noreferrer">app.config.globalProperties</a> \u4E2D\u6DFB\u52A0\u4E00\u4E9B\u5168\u5C40\u5B9E\u4F8B\u5C5E\u6027\u6216\u65B9\u6CD5</li><li>\u4E00\u4E2A\u53EF\u80FD\u4E0A\u8FF0\u4E09\u79CD\u90FD\u5305\u542B\u4E86\u7684\u529F\u80FD\u5E93 (\u4F8B\u5982 vue-router)\u3002</li></ul><p>\u5728\u4E0B\u9762\u7684\u4F8B\u5B50\u4E2D\u5C31\u4F1A\u7528\u5230 <code>app.component()</code> \u548C <code>app.directive()</code> \u65B9\u6CD5\u6765\u6CE8\u518C\u5168\u5C40\u7EC4\u4EF6\u548C\u81EA\u5B9A\u4E49\u6307\u4EE4\u3002</p><h2 id="\u81EA\u5B9A\u4E49\u5168\u5C40\u6307\u4EE4" tabindex="-1">\u81EA\u5B9A\u4E49\u5168\u5C40\u6307\u4EE4 <a class="header-anchor" href="#\u81EA\u5B9A\u4E49\u5168\u5C40\u6307\u4EE4" aria-hidden="true">#</a></h2><p>\u5728\u9879\u76EE\u7684 <code>src</code> \u76EE\u5F55\u4E0B\u521B\u5EFA <code>directives</code> \u6587\u4EF6\u5939\uFF0C\u7136\u540E\u5728 <code>directives</code> \u6587\u4EF6\u5939\u4E0B\u521B\u5EFA <code>color</code> \u548C <code>font</code> \u6587\u4EF6\u5939\uFF0C\u6700\u540E\u5728 <code>color</code> \u548C <code>font</code> \u6587\u4EF6\u5939\u4E0B\u521B\u5EFA <code>index.js</code> \u6587\u4EF6\u3002</p><h3 id="directives-color-index-js-\u6587\u4EF6\u5185\u5BB9" tabindex="-1"><code>directives/color/index.js</code> \u6587\u4EF6\u5185\u5BB9 <a class="header-anchor" href="#directives-color-index-js-\u6587\u4EF6\u5185\u5BB9" aria-hidden="true">#</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">created</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">el</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">binding</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">el</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">style</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">color</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">binding</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="directives-font-index-js-\u6587\u4EF6\u5185\u5BB9" tabindex="-1"><code>directives/font/index.js</code> \u6587\u4EF6\u5185\u5BB9 <a class="header-anchor" href="#directives-font-index-js-\u6587\u4EF6\u5185\u5BB9" aria-hidden="true">#</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">created</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">el</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">binding</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">el</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">style</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fontFamily</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">binding</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>\u4EE5\u4E0A\u7684\u4E24\u4E2A\u6307\u4EE4\u90FD\u975E\u5E38\u7B80\u5355\uFF0C\u53EA\u662F\u4F5C\u4E3A\u4F8B\u5B50\u793A\u8303\uFF0C\u5B9E\u9645\u5F00\u53D1\u4E2D\u53EF\u4EE5\u6839\u636E\u81EA\u5DF1\u7684\u9700\u6C42\u6765\u7F16\u5199\u3002</p><h3 id="directives-index-js-\u6587\u4EF6\u5185\u5BB9\u5982\u4E0B" tabindex="-1"><code>directives/index.js</code> \u6587\u4EF6\u5185\u5BB9\u5982\u4E0B <a class="header-anchor" href="#directives-index-js-\u6587\u4EF6\u5185\u5BB9\u5982\u4E0B" aria-hidden="true">#</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> color </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./color</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> font </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./font</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> directives </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  color</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  font</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">install</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">app</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">keys</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">directives</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">forEach</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">key</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">app</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">directive</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">key</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">directives</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">])</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>\u8FD9\u91CC\u7684 <code>directives</code> \u5BF9\u8C61\u662F\u7528\u6765\u5B58\u653E\u6240\u6709\u7684\u6307\u4EE4\u7684\uFF0C\u7136\u540E\u901A\u8FC7 <code>Object.keys</code> \u904D\u5386 <code>directives</code> \u5BF9\u8C61\uFF0C\u7136\u540E\u901A\u8FC7 <code>app.directive</code> \u6CE8\u518C\u6307\u4EE4\uFF0C\u8FD9\u6837\u5B50\u5C31\u53EF\u4EE5\u6CE8\u518C\u5168\u90E8\u7684\u6307\u4EE4\u4E86\u3002</p><p>\u5176\u5B9E\u4E0A\u9762\u7684\u8FD9\u79CD\u628A\u4E00\u4E2A\u4E2A\u6307\u4EE4\u5168\u90E8\u624B\u52A8\u5F15\u5165\u5230 <code>directives/index.js</code> \u6587\u4EF6\u4E2D\u7684\u65B9\u5F0F\u5E76\u4E0D\u662F\u5F88\u597D\uFF0C\u56E0\u4E3A\u5982\u679C\u6307\u4EE4\u5F88\u591A\u7684\u8BDD\uFF0C\u90A3\u4E48\u5C31\u4F1A\u663E\u5F97\u5F88\u81C3\u80BF\uFF0C\u6240\u4EE5\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7 <code>i<wbr>mport.meta.glob</code> \u6765\u5B9E\u73B0\u81EA\u52A8\u5F15\u5165\u6307\u4EE4\u3002\u5927\u6982\u65B9\u5F0F\u5982\u4E0B\uFF1A</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">App</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vue</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">interface</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Directive</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">directive</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Record</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> directives </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">import</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">meta</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">glob</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Record</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Directive</span><span style="color:#89DDFF;">&gt;&gt;</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./**/*.ts</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">eager</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">setDirectives</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">app</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">App</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">keys</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">directives</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">forEach</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">key</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">app</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">directive</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">directives</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">default</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">directives</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">default</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">directive</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="\u81EA\u5B9A\u4E49\u5168\u5C40\u7EC4\u4EF6" tabindex="-1">\u81EA\u5B9A\u4E49\u5168\u5C40\u7EC4\u4EF6 <a class="header-anchor" href="#\u81EA\u5B9A\u4E49\u5168\u5C40\u7EC4\u4EF6" aria-hidden="true">#</a></h2><p>\u5728\u9879\u76EE\u7684 <code>src</code> \u76EE\u5F55\u4E0B\u521B\u5EFA <code>components</code> \u6587\u4EF6\u5939\uFF0C\u7136\u540E\u5728 <code>components</code> \u6587\u4EF6\u5939\u4E0B\u521B\u5EFA <code>Loading</code> \u6587\u4EF6\u5939\uFF0C\u6700\u540E\u5728 <code>Loading</code> \u6587\u4EF6\u5939\u4E0B\u521B\u5EFA <code>index.vue</code> \u548C <code>index.js</code> \u6587\u4EF6\u3002</p><h3 id="components-loading-index-vue-\u6587\u4EF6\u5185\u5BB9" tabindex="-1"><code>components/Loading/index.vue</code> \u6587\u4EF6\u5185\u5BB9 <a class="header-anchor" href="#components-loading-index-vue-\u6587\u4EF6\u5185\u5BB9" aria-hidden="true">#</a></h3><div class="language-vue"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">setup</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#82AAFF;">defineProps</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">title</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> String</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">default</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">loading...</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">loading</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> Boolean</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">default</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">v-if</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">loading</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">loading-container</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">loading-rotate</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{{</span><span style="color:#A6ACCD;"> title </span><span style="color:#89DDFF;">}}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">style</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">scoped</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">loading-container</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">position</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> fixed</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">top</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">left</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">display</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> flex</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">justify-content</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> center</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">align-items</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> center</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">flex-direction</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> column</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">width</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100%</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">height</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100%</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">background</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">#</span><span style="color:#A6ACCD;">fff</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">font-size</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">20px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">font-family</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> monospace</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">color</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">#</span><span style="color:#A6ACCD;">f00</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">z-index</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">999</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">loading-rotate</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">width</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">40px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">height</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">40px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">margin-bottom</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">border</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">5px</span><span style="color:#A6ACCD;"> solid </span><span style="color:#89DDFF;">#</span><span style="color:#A6ACCD;">ccc</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">border-top-color</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">#</span><span style="color:#A6ACCD;">f00</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">border-radius</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">50%</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">animation</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> loading </span><span style="color:#F78C6C;">1s</span><span style="color:#A6ACCD;"> linear infinite</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">@keyframes</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">loading</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#B2CCD6;">transform</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">rotate</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">0deg</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#B2CCD6;">transform</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">rotate</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">360deg</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">style</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><h3 id="components-loading-index-js-\u6587\u4EF6\u5185\u5BB9" tabindex="-1"><code>components/Loading/index.js</code> \u6587\u4EF6\u5185\u5BB9 <a class="header-anchor" href="#components-loading-index-js-\u6587\u4EF6\u5185\u5BB9" aria-hidden="true">#</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">createApp</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vue</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> Loading </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./index.vue</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> instance</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> loading </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">options</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">!</span><span style="color:#A6ACCD;">instance</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">app</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">createApp</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">Loading</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">options</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">instance</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">app</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">mount</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createElement</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">div</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">body</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">appendChild</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">instance</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">$el</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">instance</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">close</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">body</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">removeChild</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">instance</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">$el</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">instance</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">null;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">instance</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">default</span><span style="color:#A6ACCD;"> loading</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p><code>components/Loading/index.js</code> \u662F\u7528\u6765\u521B\u5EFA\u5168\u5C40 loading \u6307\u4EE4\u7684\uFF0C\u540E\u7EED\u53EF\u4EE5\u901A\u8FC7 $loading \u6765\u8C03\u7528\uFF0C\u800C\u4E0D\u662F\u8981\u5728\u6BCF\u4E2A\u7EC4\u4EF6\u4E2D\u90FD\u5F15\u5165 Loading \u7EC4\u4EF6\u3002</p><h3 id="components-index-js-\u6587\u4EF6\u5185\u5BB9" tabindex="-1"><code>components/index.js</code> \u6587\u4EF6\u5185\u5BB9 <a class="header-anchor" href="#components-index-js-\u6587\u4EF6\u5185\u5BB9" aria-hidden="true">#</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> loading </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./Loading</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> Loading </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./Loading/index.vue</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> components </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  Loading</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> fns </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  loading</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">install</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">app</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">keys</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">fns</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">forEach</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">key</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">app</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">provide</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">key</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fns</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">])</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;">// app.config.globalProperties[\`$\${key}\`] = fns[key];</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">keys</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">components</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">forEach</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">key</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">app</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">component</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">key</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">components</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">])</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><p><code>components/index.js</code> \u6587\u4EF6\u662F\u7528\u6765\u6CE8\u518C\u5168\u5C40\u7EC4\u4EF6\u7684\uFF0C\u8FD9\u91CC\u6CE8\u518C\u4E86 <code>Loading</code> \u7EC4\u4EF6\uFF0C\u7136\u540E\u901A\u8FC7 <code>app.component</code> \u6CE8\u518C\u7EC4\u4EF6\uFF0C\u8FD9\u6837\u5B50\u5C31\u53EF\u4EE5\u6CE8\u518C\u5168\u90E8\u7684\u7EC4\u4EF6\u4E86\u3002</p><p>\u901A\u8FC7 <code>app.provide</code> \u65B9\u6CD5\u628A <code>loading</code> \u65B9\u6CD5\u6CE8\u5165\u5230\u5168\u5C40\uFF0C\u5982\u6B64\u5C31\u53EF\u4EE5\u5728\u6574\u4E2A\u5E94\u7528\u5C42\u9762\u63D0\u4F9B\u4F9D\u8D56\uFF0C\u8FD9\u6837\u5B50\u5C31\u53EF\u4EE5\u901A\u8FC7 <code>inject</code> \u65B9\u6CD5\u6765\u6CE8\u5165 <code>loading</code> \u65B9\u6CD5\uFF0C\u4ECE\u800C\u5B9E\u73B0\u5168\u5C40\u670D\u52A1\u5F0F\u8C03\u7528\u7EC4\u4EF6\u7684\u6548\u679C\u3002</p><p>\u4F60\u53EF\u80FD\u6CE8\u610F\u5230\u4E86 <code>components/index.js</code> \u6587\u4EF6\u4E2D\u820D\u5F03\u4E86\u7684 <code>app.config.globalProperties</code> \u65B9\u6CD5\u6302\u8F7D\u5168\u5C40\u670D\u52A1\u5F0F\u8C03\u7528\u7EC4\u4EF6\u7684\u65B9\u6CD5\uFF0C\u8FD9\u662F\u56E0\u4E3A\u5728\u5B98\u65B9\u7684\u9879\u76EE <a href="https://github.com/vuejs/vue/issues/12596#issuecomment-1173269807" target="_blank" rel="noreferrer">issue</a> \u4E2D\u5C24\u5927\u5927\u8BF4\u4E86\uFF1A</p><blockquote><p>getCurrentInstance is used mostly for official vue libraries that need additional internal access, not for userland application code. It was mistakenly documented in WIP v3 docs but is no longer considered a public API</p></blockquote><p>\u7B80\u5355\u7684\u8BF4\u5C31\u662F <code>getCurrentInstance</code> \u65B9\u6CD5\u662F\u7528\u6765\u7ED9\u5B98\u65B9\u7684\u5E93\u4F7F\u7528\u7684\uFF0C\u800C\u4E0D\u662F\u7528\u6765\u7ED9\u7528\u6237\u4F7F\u7528\u7684\uFF0C\u6240\u4EE5\u5728\u8FD9\u91CC\u5C31\u4E0D\u4F7F\u7528\u4E86\u3002</p><h2 id="\u6CE8\u518C\u5168\u5C40\u7EC4\u4EF6\u548C\u6307\u4EE4" tabindex="-1">\u6CE8\u518C\u5168\u5C40\u7EC4\u4EF6\u548C\u6307\u4EE4 <a class="header-anchor" href="#\u6CE8\u518C\u5168\u5C40\u7EC4\u4EF6\u548C\u6307\u4EE4" aria-hidden="true">#</a></h2><p>\u5728 <code>main.js</code> \u6587\u4EF6\u4E2D\u6CE8\u518C\u5168\u5C40\u7EC4\u4EF6\u548C\u6307\u4EE4\u3002</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">createApp</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vue</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./style.css</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> App </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./App.vue</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> components </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./components</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> directives </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./directives</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> app </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createApp</span><span style="color:#A6ACCD;">(App)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">app</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">use</span><span style="color:#A6ACCD;">(components)</span></span>
<span class="line"><span style="color:#A6ACCD;">app</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">use</span><span style="color:#A6ACCD;">(directives)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">app</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">mount</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">#app</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><h2 id="\u4F7F\u7528\u5168\u5C40\u7EC4\u4EF6\u548C\u6307\u4EE4" tabindex="-1">\u4F7F\u7528\u5168\u5C40\u7EC4\u4EF6\u548C\u6307\u4EE4 <a class="header-anchor" href="#\u4F7F\u7528\u5168\u5C40\u7EC4\u4EF6\u548C\u6307\u4EE4" aria-hidden="true">#</a></h2><p>\u5728 <code>App.vue</code> \u6587\u4EF6\u4E2D\u4F7F\u7528\u5168\u5C40\u7EC4\u4EF6\u548C\u6307\u4EE4\u3002</p><div class="language-vue"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">setup</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">inject</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vue</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> $loading </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">inject</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">loading</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> loading1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">$loading</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">title</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">loading...</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">setTimeout</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">loading1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">close</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">},</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4000</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> loading2</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">setTimeout</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">loading2</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">$loading</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    title</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u52A0\u8F7D\u4E2D...</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">},</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">6000</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">setTimeout</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">loading2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">close</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">},</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10000</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">app-container</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">p</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">v-color</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;\`</span><span style="color:#C3E88D;">red</span><span style="color:#89DDFF;">\`&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">v-font</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;\`</span><span style="color:#C3E88D;">monospace</span><span style="color:#89DDFF;">\`&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      vue-directives-components</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">p</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">\u5168\u5C40\u81EA\u5B9A\u4E49\u6307\u4EE4</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">\u5168\u5C40\u81EA\u5B9A\u4E49\u7EC4\u4EF6</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">style</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">scoped</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">app-container</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">display</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> flex</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">flex-direction</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> column</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">justify-content</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> center</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">align-items</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> center</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">width</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100%</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">height</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100vh</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">color</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">#</span><span style="color:#A6ACCD;">474747</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">style</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>\u7531\u4E8E\u6211\u4EEC\u820D\u5F03 <code>app.config.globalProperties</code> \u65B9\u6CD5\u6302\u8F7D\u5168\u5C40\u670D\u52A1\u5F0F\u8C03\u7528\u7EC4\u4EF6\u7684\u65B9\u6CD5\uFF0C\u6240\u4EE5\u4E0D\u80FD\u7528 <code>getCurrentInstance</code> \u65B9\u6CD5\u6765\u83B7\u53D6 <code>loading</code> \u65B9\u6CD5\uFF0C\u800C\u662F\u901A\u8FC7<a href="https://cn.vuejs.org/guide/components/provide-inject.html#app-level-provide" target="_blank" rel="noreferrer">\u4F9D\u8D56\u6CE8\u5165</a>\u7684\u65B9\u5F0F\uFF0C\u6240\u4EE5\u5728\u4F7F\u7528\u7684\u65F6\u5019\u9700\u8981\u901A\u8FC7 <code>inject</code> \u65B9\u6CD5\u6765\u6CE8\u5165 loading \u5168\u5C40\u670D\u52A1\u5F0F\u8C03\u7528\u7EC4\u4EF6\u3002</p><h2 id="\u603B\u7ED3" tabindex="-1">\u603B\u7ED3 <a class="header-anchor" href="#\u603B\u7ED3" aria-hidden="true">#</a></h2><p>\u901A\u8FC7\u4E0A\u9762\u7684\u4F8B\u5B50\u53EF\u4EE5\u770B\u51FA\uFF0C\u81EA\u5B9A\u4E49\u5168\u5C40\u7EC4\u4EF6\u548C\u6307\u4EE4\u7684\u65B9\u5F0F\u5176\u5B9E\u5C31\u662F\u901A\u8FC7 <code>app.component</code> \u548C <code>app.directive</code> \u65B9\u6CD5\u6765\u6CE8\u518C\u5168\u5C40\u7EC4\u4EF6\u548C\u6307\u4EE4\uFF0C\u7136\u540E\u901A\u8FC7 <code>app.provide</code> \u65B9\u6CD5\u628A\u7EC4\u4EF6\u6CE8\u5165\u5230\u5168\u5C40\uFF0C\u4ECE\u800C\u5B9E\u73B0\u5168\u5C40\u670D\u52A1\u5F0F\u8C03\u7528\u7EC4\u4EF6\u7684\u6548\u679C\u3002</p><p>\u6700\u7EC8\u901A\u8FC7\u63D2\u4EF6\uFF08Plugins\uFF09\u4E3A Vue \u6DFB\u52A0\u5168\u5C40\u529F\u80FD\u7684\u5DE5\u5177\u4EE3\u7801\uFF0C\u4ECE\u800C\u5B9E\u73B0\u81EA\u5B9A\u4E49\u5168\u5C40\u7EC4\u4EF6\u548C\u6307\u4EE4\u7684\u6548\u679C\u3002</p><p>\u53EF\u4EE5\u770B\u5230 Vue \u7684\u63D2\u4EF6\u529F\u80FD\u975E\u5E38\u5F3A\u5927\uFF0C\u53EF\u4EE5\u5B9E\u73B0\u5F88\u591A\u529F\u80FD\uFF0C\u6BD4\u5982\uFF1A\u6DFB\u52A0\u5168\u5C40\u7684\u5DE5\u5177\u51FD\u6570\uFF0C\u6DFB\u52A0\u5168\u5C40\u7684\u81EA\u5B9A\u4E49\u6307\u4EE4\uFF0C\u6DFB\u52A0\u5168\u5C40\u7684\u81EA\u5B9A\u4E49\u7EC4\u4EF6\uFF0C\u6DFB\u52A0\u5168\u5C40\u7684\u5DE5\u5177\u51FD\u6570\u7B49\u7B49\u3002\u8FD9\u65B9\u9762\u7684\u529F\u80FD\u975E\u5E38\u4F7F\u7528\uFF0C\u53EF\u4EE5\u6839\u636E\u81EA\u5DF1\u7684\u9700\u6C42\u6765\u5B9E\u73B0\u529F\u80FD\uFF0C\u800C\u4E14\u63D2\u4EF6\u662F\u6CA1\u6709\u660E\u786E\u7684\u4F7F\u7528\u8303\u56F4\u7684\uFF0C\u4E5F\u5C31\u662F\u8BF4\u6211\u4EEC\u65E2\u53EF\u4EE5\u4F7F\u7528\u63D2\u4EF6\u6765\u6DFB\u52A0\u5168\u5C40\u7684\u81EA\u5B9A\u4E49\u6307\u4EE4\u548C\u7EC4\u4EF6\uFF0C\u4E5F\u53EF\u4EE5\u4F7F\u7528\u63D2\u4EF6\u6765\u6DFB\u52A0\u5168\u5C40\u7684\u5DE5\u5177\u51FD\u6570\u3002</p><h2 id="\u53C2\u8003" tabindex="-1">\u53C2\u8003 <a class="header-anchor" href="#\u53C2\u8003" aria-hidden="true">#</a></h2><ul><li><a href="https://cn.vuejs.org/guide/reusability/plugins.html" target="_blank" rel="noreferrer">Vue \u63D2\u4EF6\u4ECB\u7ECD</a></li><li><a href="https://cn.vuejs.org/guide/components/registration.html" target="_blank" rel="noreferrer">Vue \u7EC4\u4EF6\u6CE8\u518C</a></li><li><a href="https://cn.vuejs.org/api/application.html#app-directive" target="_blank" rel="noreferrer">Vue \u81EA\u5B9A\u4E49\u6307\u4EE4</a></li><li><a href="https://cn.vuejs.org/guide/components/provide-inject.html#app-level-provide" target="_blank" rel="noreferrer">Vue \u4F9D\u8D56\u6CE8\u5165</a></li></ul>`,56),e=[o];function c(t,r,D,y,F,C){return n(),a("div",null,e)}const d=s(p,[["render",c]]);export{A as __pageData,d as default};
