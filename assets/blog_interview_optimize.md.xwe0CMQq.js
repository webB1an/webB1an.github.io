import{_ as s,c as i,o as a,R as t}from"./chunks/framework.Tt2DsVC6.js";const g=JSON.parse('{"title":"项目优化","description":"","frontmatter":{},"headers":[],"relativePath":"blog/interview/optimize.md","filePath":"blog/interview/optimize.md","lastUpdated":1702368090000}'),e={name:"blog/interview/optimize.md"},l=t(`<h1 id="项目优化" tabindex="-1">项目优化 <a class="header-anchor" href="#项目优化" aria-label="Permalink to &quot;项目优化&quot;">​</a></h1><h2 id="v-if-和-v-show-区分场景使用" tabindex="-1"><code>v-if</code> 和 <code>v-show</code> 区分场景使用 <a class="header-anchor" href="#v-if-和-v-show-区分场景使用" aria-label="Permalink to &quot;\`v-if\` 和 \`v-show\` 区分场景使用&quot;">​</a></h2><p><b>v-if</b> 是真正的条件渲染，如果初始条件为假，则什么都不做，直到条件变为真时才第一次渲染条件块。</p><p><b>v-show</b> 不管初始的判断条件是什么，元素总会被渲染，并且只是切换 css 的 <code>display</code> 属性。</p><p><code>v-if</code> 适用在运行时很少改变条件，如和用户权限相关的菜单。v-show适用于需要频繁切换条件的场景，如tab栏等。</p><h2 id="computed-和-watch-区分场景使用" tabindex="-1"><code>computed</code> 和 <code>watch</code> 区分场景使用 <a class="header-anchor" href="#computed-和-watch-区分场景使用" aria-label="Permalink to &quot;\`computed\` 和 \`watch\` 区分场景使用&quot;">​</a></h2><p><b>computed</b> 是计算属性，依赖其他属性值，并且 <code>computed</code> 的值有缓存，只有在它依赖的属性值发生改变，下一次获取 <code>computed</code> 的值时才回从新计算 <code>computed</code> 的值。</p><p><b>watch</b> 更多的是观察作用，类似于数据的监听回调，每当数据发生改变时才执行回调进行后续操作。</p><p>运用场景：</p><ul><li>当我们需要进行数值运算，并且依赖于其他数据时，应该使用 <code>computed</code>，因为可以利用 <code>computed</code> 的缓存特性，避免每次取值时，都要重新计算</li><li>当一个值的改变会影响多个值时，应使用 <code>watch</code></li></ul><h2 id="v-for-遍历必须为-item-添加-key-且避免同时使用-v-if" tabindex="-1"><code>v-for</code> 遍历必须为 <code>item</code> 添加 <code>key</code>，且避免同时使用 <code>v-if</code> <a class="header-anchor" href="#v-for-遍历必须为-item-添加-key-且避免同时使用-v-if" aria-label="Permalink to &quot;\`v-for\` 遍历必须为 \`item\` 添加 \`key\`，且避免同时使用 \`v-if\`&quot;">​</a></h2><ul><li>v-for 遍历必须为 item 添加 key <ul><li>在列表根据遍历渲染数据时，需要为每一项 item 设置唯一的 key 值，方便 vue 内部机制精准找到该条列表数据。当 state 更新时，新的状态和旧的状态对比，快速定位到 diff。</li></ul></li><li>v-for 遍历避免同时使用 v-if <ul><li>v-for 比 v-if 的优先级高，如果每一次都需要遍历整个数组，将会影响速度。</li></ul></li></ul><p><b>推荐:</b></p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ul</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">li</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    v-for</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user in activeUsers&quot;</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    :key=&quot;user.id&quot;&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {{ user.name }}</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">  &lt;/li&gt;</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">&lt;/ul&gt;</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">computed:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  activeUsers: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.users.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">user</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	 return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user.isActive</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><b>不推荐:</b></p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ul</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">li</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    v-for</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user in users&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    v-if</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user.isActive&quot;</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    :key=&quot;user.id&quot;&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {{ user.name }}</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">  &lt;/li&gt;</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">&lt;/ul&gt;</span></span></code></pre></div><p><b></b><b></b><b></b><b></b><b></b></p>`,17),n=[l];function h(p,k,o,d,c,r){return a(),i("div",null,n)}const y=s(e,[["render",h]]);export{g as __pageData,y as default};
