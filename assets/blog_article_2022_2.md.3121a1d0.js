import{_ as o,o as e,c as s,d as n}from"./app.c2225f2f.js";const b=JSON.parse('{"title":"\u4ECE centos docker \u4E0A\u5907\u4EFD mongodb \u6570\u636E\u5230\u672C\u5730","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u8FDB\u5165 centos","slug":"\u8FDB\u5165-centos","link":"#\u8FDB\u5165-centos","children":[]},{"level":2,"title":"\u8FDB\u5165 docker \u4E2D\u7684 mongodb","slug":"\u8FDB\u5165-docker-\u4E2D\u7684-mongodb","link":"#\u8FDB\u5165-docker-\u4E2D\u7684-mongodb","children":[]},{"level":2,"title":"\u5BFC\u51FA mongodb \u6570\u636E\u5230 mongodb \u5BB9\u5668\u5185","slug":"\u5BFC\u51FA-mongodb-\u6570\u636E\u5230-mongodb-\u5BB9\u5668\u5185","link":"#\u5BFC\u51FA-mongodb-\u6570\u636E\u5230-mongodb-\u5BB9\u5668\u5185","children":[]},{"level":2,"title":"\u5C06\u4E0A\u9762\u5BFC\u51FA\u5230 mongodb \u4E2D\u7684\u6570\u636E\u62F7\u8D1D\u5230 centos","slug":"\u5C06\u4E0A\u9762\u5BFC\u51FA\u5230-mongodb-\u4E2D\u7684\u6570\u636E\u62F7\u8D1D\u5230-centos","link":"#\u5C06\u4E0A\u9762\u5BFC\u51FA\u5230-mongodb-\u4E2D\u7684\u6570\u636E\u62F7\u8D1D\u5230-centos","children":[]},{"level":2,"title":"\u672C\u5730\u7535\u8111\u4E0B\u8F7D centos \u4E0A\u5907\u4EFD\u7684 mongodb \u6570\u636E","slug":"\u672C\u5730\u7535\u8111\u4E0B\u8F7D-centos-\u4E0A\u5907\u4EFD\u7684-mongodb-\u6570\u636E","link":"#\u672C\u5730\u7535\u8111\u4E0B\u8F7D-centos-\u4E0A\u5907\u4EFD\u7684-mongodb-\u6570\u636E","children":[]},{"level":2,"title":"\u62F7\u8D1D\u4E0A\u4E00\u6B65\u5BFC\u51FA\u5230\u672C\u5730\u7684 mongodb \u6570\u636E\u5230 mac\u4E2D docker\u91CC mongodb \u4E2D","slug":"\u62F7\u8D1D\u4E0A\u4E00\u6B65\u5BFC\u51FA\u5230\u672C\u5730\u7684-mongodb-\u6570\u636E\u5230-mac\u4E2D-docker\u91CC-mongodb-\u4E2D","link":"#\u62F7\u8D1D\u4E0A\u4E00\u6B65\u5BFC\u51FA\u5230\u672C\u5730\u7684-mongodb-\u6570\u636E\u5230-mac\u4E2D-docker\u91CC-mongodb-\u4E2D","children":[]},{"level":2,"title":"\u5BFC\u5165\u5230\u672C\u5730 mac \u7684 docker \u7684 mongodb \u4E2D","slug":"\u5BFC\u5165\u5230\u672C\u5730-mac-\u7684-docker-\u7684-mongodb-\u4E2D","link":"#\u5BFC\u5165\u5230\u672C\u5730-mac-\u7684-docker-\u7684-mongodb-\u4E2D","children":[]}],"relativePath":"blog/article/2022/2.md","lastUpdated":1680576945000}'),a={name:"blog/article/2022/2.md"},l=n(`<h1 id="\u4ECE-centos-docker-\u4E0A\u5907\u4EFD-mongodb-\u6570\u636E\u5230\u672C\u5730" tabindex="-1">\u4ECE centos docker \u4E0A\u5907\u4EFD mongodb \u6570\u636E\u5230\u672C\u5730 <a class="header-anchor" href="#\u4ECE-centos-docker-\u4E0A\u5907\u4EFD-mongodb-\u6570\u636E\u5230\u672C\u5730" aria-hidden="true">#</a></h1><div class="info custom-block"><p class="custom-block-title">\u521D\u8877</p><p>\u9879\u76EE\u672C\u610F\u662F\u4E3A\u4E86\u7ED9 centos \u4E0A\u7684\u6570\u636E\u5907\u4EFD\u5230 mac \u4E0A\u7684 docker \u4E0A\u3002</p></div><h2 id="\u8FDB\u5165-centos" tabindex="-1">\u8FDB\u5165 centos <a class="header-anchor" href="#\u8FDB\u5165-centos" aria-hidden="true">#</a></h2><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">ssh root@139.9.212.113</span></span>
<span class="line"></span></code></pre></div><h2 id="\u8FDB\u5165-docker-\u4E2D\u7684-mongodb" tabindex="-1">\u8FDB\u5165 docker \u4E2D\u7684 mongodb <a class="header-anchor" href="#\u8FDB\u5165-docker-\u4E2D\u7684-mongodb" aria-hidden="true">#</a></h2><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">docker </span><span style="color:#82AAFF;">exec</span><span style="color:#A6ACCD;"> -it mongodb_container_id /bin/bash</span></span>
<span class="line"></span></code></pre></div><h2 id="\u5BFC\u51FA-mongodb-\u6570\u636E\u5230-mongodb-\u5BB9\u5668\u5185" tabindex="-1">\u5BFC\u51FA mongodb \u6570\u636E\u5230 mongodb \u5BB9\u5668\u5185 <a class="header-anchor" href="#\u5BFC\u51FA-mongodb-\u6570\u636E\u5230-mongodb-\u5BB9\u5668\u5185" aria-hidden="true">#</a></h2><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">mongodump -h 127.0.0.1:27017 --archive=/home/db.gz --gzip -d=db</span></span>
<span class="line"></span></code></pre></div><ul><li>-h \u8868\u793A host</li><li>-d \u8868\u793A database</li><li>--gzip \u8868\u793A\u538B\u7F29</li></ul><p>\u66F4\u591A\u5907\u4EFD\u5185\u5BB9\uFF1A<a href="https://docs.mongodb.com/manual/reference/program/mongodump/" target="_blank" rel="noreferrer">https://docs.mongodb.com/manual/reference/program/mongodump/</a></p><h2 id="\u5C06\u4E0A\u9762\u5BFC\u51FA\u5230-mongodb-\u4E2D\u7684\u6570\u636E\u62F7\u8D1D\u5230-centos" tabindex="-1">\u5C06\u4E0A\u9762\u5BFC\u51FA\u5230 mongodb \u4E2D\u7684\u6570\u636E\u62F7\u8D1D\u5230 centos <a class="header-anchor" href="#\u5C06\u4E0A\u9762\u5BFC\u51FA\u5230-mongodb-\u4E2D\u7684\u6570\u636E\u62F7\u8D1D\u5230-centos" aria-hidden="true">#</a></h2><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">docker cp mongodb_container_id:/home/db.gz /home</span></span>
<span class="line"></span></code></pre></div><ul><li>mongodb_container_id\uFF1Amongodb \u5BB9\u5668 id</li><li>/home/db.gz\uFF1Amongodb \u5BB9\u5668\u5185\u5907\u4EFD\u7684\u8DEF\u5F84</li><li>/home\uFF1A\u5BFC\u51FA\u5230 centos \u7684\u8DEF\u5F84</li></ul><h2 id="\u672C\u5730\u7535\u8111\u4E0B\u8F7D-centos-\u4E0A\u5907\u4EFD\u7684-mongodb-\u6570\u636E" tabindex="-1">\u672C\u5730\u7535\u8111\u4E0B\u8F7D centos \u4E0A\u5907\u4EFD\u7684 mongodb \u6570\u636E <a class="header-anchor" href="#\u672C\u5730\u7535\u8111\u4E0B\u8F7D-centos-\u4E0A\u5907\u4EFD\u7684-mongodb-\u6570\u636E" aria-hidden="true">#</a></h2><p>\u5728 mac \u672C\u5730\u7684 zsh \u4E2D\u6267\u884C scp \u547D\u4EE4</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">scp root@139.x.xxx.xxx:/home/auto.gz </span><span style="color:#89DDFF;">~</span><span style="color:#A6ACCD;">/work</span></span>
<span class="line"></span></code></pre></div><ul><li><a href="mailto:root@139.x.xxx.xxx" target="_blank" rel="noreferrer">root@139.x.xxx.xxx</a>\uFF1A\u8868\u793A centos \u767B\u5F55\u7684\u8D26\u53F7\u548C ip</li><li>/home/auto.gz \u8868\u793A\u4E0A\u9762\u5BFC\u51FA\u5230 centos \u7684 mongodb \u7684\u6570\u636E\u8DEF\u5F84</li><li>~/work \u8868\u793A\u5BFC\u51FA\u5230\u672C\u5730 mac \u7684\u8DEF\u5F84</li></ul><h2 id="\u62F7\u8D1D\u4E0A\u4E00\u6B65\u5BFC\u51FA\u5230\u672C\u5730\u7684-mongodb-\u6570\u636E\u5230-mac\u4E2D-docker\u91CC-mongodb-\u4E2D" tabindex="-1">\u62F7\u8D1D\u4E0A\u4E00\u6B65\u5BFC\u51FA\u5230\u672C\u5730\u7684 mongodb \u6570\u636E\u5230 mac\u4E2D docker\u91CC mongodb \u4E2D <a class="header-anchor" href="#\u62F7\u8D1D\u4E0A\u4E00\u6B65\u5BFC\u51FA\u5230\u672C\u5730\u7684-mongodb-\u6570\u636E\u5230-mac\u4E2D-docker\u91CC-mongodb-\u4E2D" aria-hidden="true">#</a></h2><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">docker cp </span><span style="color:#89DDFF;">~</span><span style="color:#A6ACCD;">/work/db.gz mac_docker_mongodb_container_id:/home/</span></span>
<span class="line"></span></code></pre></div><ul><li>~/work/db.gz\uFF1A\u8868\u793A mac \u4E2D\u7684\u6570\u636E\u8DEF\u5F84</li><li>mac_docker_mongodb_container_id\uFF1Amac \u4E0A docker mongodb \u7684 container id</li><li>/home/\uFF1A\u8868\u793A mac \u4E0A docker \u4E2D mongodb \u5BB9\u5668\u4E2D\u5907\u4EFD\u8DEF\u5F84</li></ul><h2 id="\u5BFC\u5165\u5230\u672C\u5730-mac-\u7684-docker-\u7684-mongodb-\u4E2D" tabindex="-1">\u5BFC\u5165\u5230\u672C\u5730 mac \u7684 docker \u7684 mongodb \u4E2D <a class="header-anchor" href="#\u5BFC\u5165\u5230\u672C\u5730-mac-\u7684-docker-\u7684-mongodb-\u4E2D" aria-hidden="true">#</a></h2><p>\u6D4B\u8BD5\u4E0B</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">mongorestore --gzip --archive=/home/db.gz dump/ --dryRun --verbose</span></span>
<span class="line"></span></code></pre></div><ul><li>--dryRun \u8868\u793A\u6F14\u4E60\u4E00\u4E0B</li><li>--verbose \u663E\u793A\u6267\u884C\u8BE6\u60C5</li><li>\u6CE8\uFF1A\u53BB\u6389 --dryRun --verbose \u624D\u7B97\u771F\u7684\u6062\u590D\u6570\u636E</li></ul><p>\u4E0A\u9762\u5982\u679C\u6D4B\u8BD5\u6210\u529F\u7684\u8BDD\uFF0C\u6267\u884C\uFF1A</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">mongorestore --gzip --archive=/home/db.gz dump/ </span></span>
<span class="line"></span></code></pre></div><p>\u5F53 mongod \u5F00\u542F\u6743\u9650\u8BA4\u8BC1\u7684\u8BDD\uFF0C\u53EF\u4EE5\u5C1D\u8BD5</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">mongorestore -u root -p=root39816561 --gzip --archive=/home/auto.gz dump/ --verbose</span></span>
<span class="line"></span></code></pre></div><ul><li>\u66F4\u591A\u6062\u590D\u6587\u6863\uFF1A<a href="https://docs.mongodb.com/manual/reference/program/mongorestore/" target="_blank" rel="noreferrer">https://docs.mongodb.com/manual/reference/program/mongorestore/</a></li><li>\u53C2\u8003\u6587\u7AE0\uFF1A<a href="https://share.xiaoshaoye.cn/archives/dockermongodb-dao-ru-dao-chu-shu-ju" target="_blank" rel="noreferrer">https://share.xiaoshaoye.cn/archives/dockermongodb-dao-ru-dao-chu-shu-ju</a></li></ul>`,29),c=[l];function d(r,t,i,p,m,g){return e(),s("div",null,c)}const u=o(a,[["render",d]]);export{b as __pageData,u as default};
