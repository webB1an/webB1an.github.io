import{_ as C,o as c,c as r,e as p,w as o,b as F,f as e,a as t,d as i}from"./app.27deab11.js";const d={data(){return{fileList:[]}},methods:{handleHttpRequest(s){const n=new FormData;n.append("file",s.file),fetch("https://jsonplaceholder.typicode.com/posts/",{method:"POST",body:n}).then(a=>a.json()).then(a=>{s.onSuccess()}).catch(a=>{s.onError()})},handleChange(s,n){console.log("handleChange"),this.fileList=n,this.$refs.upload.submit()},handleBeforeUpload(s){const n=s.type==="image/jpeg"||s.type==="image/png",a=s.size/1024/1024<2;return n||this.$message.error("\u4E0A\u4F20\u5934\u50CF\u56FE\u7247\u53EA\u80FD\u662F JPG \u683C\u5F0F!"),a||this.$message.error("\u4E0A\u4F20\u5934\u50CF\u56FE\u7247\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC7 2MB!"),n&&a},handleExceed(s,n){this.$message.warning(`\u5F53\u524D\u9650\u5236\u9009\u62E9 3 \u4E2A\u6587\u4EF6\uFF0C\u672C\u6B21\u9009\u62E9\u4E86 ${s.length} \u4E2A\u6587\u4EF6\uFF0C\u5171\u9009\u62E9\u4E86 ${s.length+n.length} \u4E2A\u6587\u4EF6`)},handleSuccess(s,n,a){this.$message.success("\u4E0A\u4F20\u6210\u529F")},handleError(s,n,a){console.log("err",s),console.log("file",n),console.log("fileList",a),this.$message.error("\u4E0A\u4F20\u5931\u8D25")}}},u={class:"app-container"};function h(s,n,a,_,D,l){const y=e("el-button"),A=e("el-upload",!0);return c(),r("div",u,[p(A,{ref:"upload",action:"","file-list":D.fileList,limit:2,"auto-upload":!1,"http-request":l.handleHttpRequest,"before-upload":l.handleBeforeUpload,"on-change":l.handleChange,"on-exceed":l.handleExceed,"on-success":l.handleSuccess,"on-error":l.handleError},{default:o(()=>[p(y,{type:"primary"},{default:o(()=>[F("\u70B9\u51FB\u4E0A\u4F20")]),_:1})]),_:1},8,["file-list","http-request","before-upload","on-change","on-exceed","on-success","on-error"])])}const f=C(d,[["render",h]]),g=t("h1",{id:"element-\u81EA\u5B9A\u4E49\u4E0A\u4F20",tabindex:"-1"},[F("Element \u81EA\u5B9A\u4E49\u4E0A\u4F20 "),t("a",{class:"header-anchor",href:"#element-\u81EA\u5B9A\u4E49\u4E0A\u4F20","aria-hidden":"true"},"#")],-1),m=i("",4),b=JSON.parse('{"title":"Element \u81EA\u5B9A\u4E49\u4E0A\u4F20","description":"","frontmatter":{},"headers":[],"relativePath":"blog/tools/el-upload.md","lastUpdated":1692582204000}'),E={name:"blog/tools/el-upload.md"},L=Object.assign(E,{setup(s){return(n,a)=>(c(),r("div",null,[g,p(f),m]))}});export{b as __pageData,L as default};
